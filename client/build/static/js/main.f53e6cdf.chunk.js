(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(20),r=n.n(s),i=n(2),o=n(11),l=n(8),u=function(e){return fetch("/api/dbRoutes/user/login",{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{isAuthenticated:!1,user:{userName:""}}}))},d=function(){return fetch("/api/dbRoutes/user/logout").then((function(e){return e.json()})).then((function(e){return e}))},j=function(){return fetch("/api/dbRoutes/user/authenticated").then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{isAuthenticated:!1,user:{userName:""}}}))},b=n(10),m=n.n(b),h={getBandByUserId:function(e){return m.a.get("/api/dbRoutes/user/".concat(e))},getBand:function(e){return m.a.get("/api/dbRoutes/band/".concat(e))},createBand:function(e){return m.a.post("/api/dbRoutes/band/",e)},updateBandData:function(e,t){return m.a.put("/api/dbRoutes/band/".concat(e),t)},deleteBand:function(e){return m.a.delete("/api/dbRoutes/band/".concat(e))},getVenueById:function(e){return m.a.get("api/dbRoutes/venue/".concat(e))},getVenueByName:function(e){return m.a.get("/api/dbRoutes/venue/name/".concat(e))},getVenues:function(){return m.a.get("/api/dbRoutes/venue/")},createVenueById:function(e){return m.a.post("/api/dbRoutes/venue/".concat(e))},createVenueByName:function(e,t){return m.a.post("/api/dbRoutes/venue/".concat(e),t)},postVenueReview:function(e){return m.a.put("/api/dbRoutes/venue/".concat(e))},searchFourSquare:function(e){return m.a.post("/api/fourSquareRoutes/".concat(e,"/"))},createReview:function(e,t){return m.a.post("/api/dbRoutes/reviews/".concat(e),t)},updateReview:function(e){return m.a.put("/api/dbRoutes/reviews/".concat(e))},deleteReview:function(e){return m.a.delete("/api/dbRoutes/reviews/".concat(e))},getReviewByBand:function(e){return m.a.get("/api/dbRoutes/reviews/band/".concat(e))},getReviewByVenue:function(e){return m.a.get("/api/dbRoutes/reviews/venue/".concat(e))},recaptchaUserVerify:function(e){return m.a.post("/api/userverify/".concat(e)).then((function(e){return e?console.log("You are human!"):console.log("No Robots allowed!")}))},deleteLink:function(e){return m.a.put("/api/dbRoutes/link",e)}},O=n(0),x=Object(a.createContext)(),p=function(e){var t=e.children,n=Object(a.useState)({}),c=Object(i.a)(n,2),s=c[0],r=c[1],o=Object(a.useState)(!1),l=Object(i.a)(o,2),u=l[0],d=l[1],b=Object(a.useState)(!1),m=Object(i.a)(b,2),p=m[0],f=m[1],v=Object(a.useState)(),g=Object(i.a)(v,2),N=g[0],y=g[1];return Object(a.useEffect)((function(){j().then((function(e){r(e.user),d(e.isAuthenticated),f(!0),h.getBandByUserId(e).then((function(e){y(e.data[0]._id)}))}))}),[]),Object(O.jsx)("div",{children:p?Object(O.jsx)(x.Provider,{value:{currentUser:s,setCurrentUser:r,isAuth:u,setIsAuth:d,setId:y,id:N},children:t}):Object(O.jsx)("h1",{children:"Loading"})})},f=function(){var e=Object(a.useContext)(x),t=e.isAuth,n=e.setCurrentUser,c=e.setIsAuth,s=e.setId,r=e.id,i=Object(o.g)();Object(a.useEffect)((function(){s(localStorage.getItem("id"))}),[]);var u=function(){d().then((function(e){n(""),c(!1),s(""),localStorage.removeItem("id"),i.push("/")}))};return Object(O.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",style:{backgroundColor:"grey"},children:[Object(O.jsx)("img",{alt:"ryder-logo",src:"./imgs/vinyl-homepage-logo.png",style:{maxHeight:"70px"}}),Object(O.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(O.jsx)("span",{className:"navbar-toggler-icon"})}),Object(O.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown",children:t?Object(O.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(O.jsx)("li",{children:Object(O.jsx)(l.b,{to:"/bandpage/".concat(r),children:Object(O.jsx)("h4",{className:"mx-2 navbutton",children:"My Band Page"})})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(l.b,{to:"/venuepage/".concat(r),children:Object(O.jsx)("h4",{className:"mx-2 navbutton",children:"Search Venues"})})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(l.b,{to:"/",children:Object(O.jsx)("h4",{className:"mx-2 navbutton",onClick:u,children:"Sign Out"})})})]}):Object(O.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(O.jsxs)("li",{className:"nav-item",children:[Object(O.jsx)(l.b,{to:"/",children:Object(O.jsx)("h4",{className:"mx-2 navbutton",children:"Home"})}),Object(O.jsx)("span",{className:"sr-only",children:"(current)"})]}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(l.b,{to:"/venuepage",children:Object(O.jsx)("h4",{className:"mx-2 navbutton",children:"Search Venues"})})})]})})]})},v=function(){return Object(O.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(O.jsx)("img",{className:"img-fluid",alt:"ryder-logo",src:"./imgs/vinyl-homepage-logo2.png"}),Object(O.jsx)("h1",{className:"font-italic",children:"Better Your Artist Experience"}),Object(O.jsxs)("div",{className:"d-flex justify-content-center mt-2",children:[Object(O.jsx)(l.b,{to:"/login",children:Object(O.jsx)("button",{className:"mx-2 homeaccountbutton",children:"Log In"})}),Object(O.jsx)(l.b,{to:"/createartist",children:Object(O.jsx)("button",{className:"mx-2 homeaccountbutton",children:"Create Account"})})]})]})},g=n(14),N=n(6),y=n(21),w=n(42),S=function(e){var t=e.show,n=e.handleClose,a=e.error,c=e.title;return Object(O.jsxs)(y.a,{show:t,onHide:n,children:[Object(O.jsx)(y.a.Header,{children:Object(O.jsx)(y.a.Title,{children:c?"Success!":"Oh No!"})}),Object(O.jsx)(y.a.Body,{children:Object(O.jsx)("strong",{children:a})}),Object(O.jsx)(y.a.Footer,{children:Object(O.jsx)(w.a,{variant:"secondary",onClick:n,children:"Close"})})]})},C=function(){var e=Object(o.g)(),t=Object(a.useState)({userName:"",password:"",id:""}),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(""),d=Object(i.a)(r,2),j=d[0],b=d[1],m=Object(a.useState)(!1),p=Object(i.a)(m,2),f=p[0],v=p[1],y=Object(a.useContext)(x),w=y.setCurrentUser,C=y.setIsAuth,k=y.setId,B=function(e){s(Object(N.a)(Object(N.a)({},c),{},Object(g.a)({},e.target.name,e.target.value)))};return Object(O.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(O.jsx)("img",{className:"img-fluid",alt:"ryder-logo",src:"./imgs/vinyl-homepage-logo.png"}),Object(O.jsx)("h1",{className:"font-italic",children:"Better Your Artist Experience"}),Object(O.jsxs)("div",{className:"d-flex justify-content-center mt-4",children:[Object(O.jsxs)("form",{className:"formcontent p-2",children:[Object(O.jsxs)("div",{className:"form-group ",children:[Object(O.jsx)("label",{htmlFor:"emailInput",children:"Email address"}),Object(O.jsx)("input",{type:"email",onChange:B,name:"userName",className:"form-control",id:"emailInput","aria-describedby":"emailHelp",placeholder:"Enter email"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"passwordInput",children:"Password"}),Object(O.jsx)("input",{type:"password",onChange:B,name:"password",className:"form-control",id:"passwordInput",placeholder:"Password"})]}),Object(O.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),u(c).then((function(t){t.isAuthenticated?(w(t.userName),C(t.isAuthenticated),h.getBandByUserId(t.id).then((function(t){k(t.data[0]._id),localStorage.setItem("id","".concat(t.data[0]._id)),e.push("/bandpage/".concat(t.data[0]._id))}))):(document.getElementById("passwordInput").value="",document.getElementById("emailInput").value="",b("Wrong username or password"),v(!0))}))},className:"mx-2 artistCreateButton",children:"Log In"}),Object(O.jsx)(l.b,{to:"/createartist",children:Object(O.jsx)("button",{className:"mx-2 artistCreateButton",children:"Create Account"})})]}),Object(O.jsx)(S,{show:f,handleClose:function(){return v(!1)},error:j})]})]})},k=n(5),B=n.n(k),I=n(9),A=n(41),R=function(){var e=Object(o.g)(),t=Object(a.useState)([{bandName:"",location:"",userName:"",password:""}]),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(""),l=Object(i.a)(r,2),d=l[0],j=l[1],b=Object(a.useState)(""),m=Object(i.a)(b,2),p=m[0],f=m[1],v=Object(a.useState)("hidden"),y=Object(i.a)(v,2),w=y[0],C=y[1],k=Object(a.useState)(!1),R=Object(i.a)(k,2),L=R[0],E=R[1],V=Object(a.useState)("none"),F=Object(i.a)(V,2),U=F[0],_=F[1],D=Object(a.useState)(""),P=Object(i.a)(D,2),W=P[0],H=P[1],T=Object(a.useState)("hidden"),J=Object(i.a)(T,2),M=J[0],q=J[1],K=Object(a.useState)(""),z=Object(i.a)(K,2),Y=z[0],$=z[1],X=Object(a.useState)(!1),G=Object(i.a)(X,2),Z=G[0],Q=G[1],ee=Object(a.useContext)(x),te=ee.setCurrentUser,ne=ee.setIsAuth,ae=ee.setId,ce=Object(a.useRef)(""),se=Object(a.useRef)(""),re=function(){return Q(!0)},ie=function(e){var t=e.target.name,n=e.target.value;s(Object(N.a)(Object(N.a)({},c),{},Object(g.a)({},t,n)))};return Object(O.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center mt-5",children:Object(O.jsxs)("div",{className:"formcontent p-2",children:[Object(O.jsx)("h1",{className:"text-center",children:"Create Your Artist Profile"}),Object(O.jsxs)("form",{onSubmit:function(t){t.preventDefault(),c.password!==W?(document.getElementById("password").value="",document.getElementById("passCheck").value="",$("Passwords do not match! Please try again."),j(""),f(""),_("none"),E(!1),re()):Object(I.a)(B.a.mark((function t(){var n,a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.createBand(c);case 3:if(!(n=t.sent).data.errors){t.next=10;break}document.getElementById("userName").value="",$(n.data.errors.userName.message),re(),t.next=14;break;case 10:return t.next=12,u(c);case 12:(a=t.sent).isAuthenticated?(te(a.userName),ne(a.isAuthenticated),h.getBandByUserId(a.id).then((function(t){ae(t.data[0]._id),e.push("/updateartist/".concat(t.data[0]._id))}))):($("Sorry you Need to fill out"),re());case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.error(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))()},children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"bandName",children:"Artist/Band Name:"}),Object(O.jsx)("input",{type:"text",className:"form-control",id:"bandName","aria-describedby":"bandNameHelp",placeholder:"Enter Name",name:"bandName",onChange:ie,required:!0})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"location",children:"Location (City, State):"}),Object(O.jsx)("input",{type:"text",className:"form-control",id:"bandLocation","aria-describedby":"location",placeholder:"Enter Location",name:"location",onChange:ie})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"userName",children:"Create Username:"}),Object(O.jsx)("input",{type:"email",className:"form-control",id:"userName","aria-describedby":"emailHelp",placeholder:"Enter email for username",name:"userName",onChange:ie,required:!0})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"password",children:"Create Password:"}),Object(O.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",name:"password",onChange:ie,onInput:function(){var e=ce.current.value;C("visible"),/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&_])[A-Za-z\d$@$!%*?&_]{8,}$/.test(e)?(_("block"),j("rgb(128, 255, 128)")):(_("none"),j("rgb(255, 153, 153)"))},ref:ce,style:{backgroundColor:d},required:!0}),Object(O.jsx)("p",{style:{fontSize:"12px",margin:"0 5px",visibility:w},children:"min 8 chars - one upper, lower, number, & symbol"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"passCheck",style:{display:U},children:"Confirm Password:"}),Object(O.jsx)("input",{type:"password",className:"form-control",id:"passCheck",placeholder:"Confirm Password",name:"passCheck",style:{display:U,backgroundColor:p},onChange:function(){var e=se.current.value;e===c.password?(f("rgb(128, 255, 128)"),E(!0)):f("rgb(255, 153, 153)"),H(e)},ref:se,required:!0})]}),Object(O.jsx)(S,{show:Z,handleClose:function(){return Q(!1)},error:Y}),Object(O.jsx)(A.a,{sitekey:"6LdAclkaAAAAAKWaafseSwj69OaCCI3O88u55DzX",render:"explicit",onChange:function(e){L&&(q("visible"),h.recaptchaUserVerify(e))},style:{display:L?"block":"none"}}),Object(O.jsx)("button",{type:"submit",value:"Submit",className:"artistCreateButton",style:{visibility:M},children:"Submit"})]})]})})},L=n(19),E=function(e){var t=e.review,n=Object(a.useState)([]),c=Object(i.a)(n,2),s=c[0],r=c[1];Object(a.useEffect)((function(){(function(){var e=Object(I.a)(B.a.mark((function e(){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getVenueById(t.venue);case 2:n=e.sent,r(n.data.venueName);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t.venue]);var o=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"2-digit"});return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:o.format(Date.parse(t.createdAt))}),Object(O.jsx)("td",{children:s}),Object(O.jsx)("td",{children:Object(O.jsx)(L.a,{initialRating:t.rating,emptySymbol:"fa fa-star-o fa-2x",readonly:!0,fullSymbol:"fa fa-star fa-2x"})}),Object(O.jsx)("td",{children:t.reviewText})]})},V=function(e){var t=e.reviews;return e.isLoading?Object(O.jsx)("h1",{children:"Loading...."}):Object(O.jsxs)("table",{className:"table table-responsive table-dark table-striped table-bordered bandreviews",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"text-center",children:"Date"}),Object(O.jsx)("th",{className:"text-center",children:"Venue Name"}),Object(O.jsx)("th",{className:"text-center",children:"Rating"}),Object(O.jsx)("th",{className:"text-center",children:"Review"})]})}),Object(O.jsx)("tbody",{children:t.map((function(e){return Object(O.jsx)(E,{review:e},e._id)}))})]})},F=function(e){var t=e.artist,n=e.isLoading,a=e.title,c=e.edit,s=function(e){h.deleteLink({bandId:t._id,id:e.target.id}),document.getElementById(e.target.id).parentNode.parentNode.remove()},r=t.bandLinks.map((function(e){return Object(O.jsxs)("li",{className:"artistLink__li",children:[Object(O.jsx)("a",{href:"https://".concat(e.siteUrl),target:"_blank",rel:"noreferrer",children:e.siteName}),c?Object(O.jsx)("span",{children:Object(O.jsx)("i",{className:"fa fa-times","aria-hidden":"true",id:e._id,onClick:s})}):null,Object(O.jsx)("br",{})]},e._id)}));return n?Object(O.jsx)("h1",{children:"Loading...."}):Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("p",{style:{marginBottom:0},children:Object(O.jsxs)("u",{children:[a," Band Media Links:"]})}),Object(O.jsx)("ul",{children:r})]})},U=n(31),_=function(e){var t=e.links,n=e.linkId,a=e.remove;return Object(O.jsxs)("div",{className:"d-flex flex-row mb-3",children:[Object(O.jsx)("input",{type:"text",className:"form-control",id:"siteUrl".concat(n),placeholder:"Add Url Here",name:"siteUrl",defaultValue:t.length>=n+1?t[n].siteUrl:null}),Object(O.jsxs)("select",{className:"artistUpdateButton",id:"linkSelection".concat(n),defaultValue:t.length>=n+1?t[n].siteName:"DEFAULT",children:[Object(O.jsx)("option",{value:"DEFAULT",disabled:!0,children:"Link Type"}),Object(O.jsx)("option",{value:"Facebook",children:"Facebook"}),Object(O.jsx)("option",{value:"Instagram",children:"Instagram"}),Object(O.jsx)("option",{value:"Bandcamp",children:"Bandcamp"}),Object(O.jsx)("option",{value:"Youtube",children:"Youtube"}),Object(O.jsx)("option",{value:"Website",children:"Website"})]}),window.location.hash.includes("updateartist")?null:Object(O.jsx)("span",{children:Object(O.jsx)("i",{className:"fa fa-times","aria-hidden":"true",id:n,onClick:function(e){a(e.target.id)}})})]})},D=function(e){var t=e.artist,n=e.create,c=e.handleEdit,s=e.id,r=Object(o.g)(),l=Object(a.useState)(t),u=Object(i.a)(l,2),d=u[0],j=u[1],b=Object(a.useState)(!1),m=Object(i.a)(b,2),x=m[0],p=m[1],f=Object(a.useState)([]),v=Object(i.a)(f,2),y=v[0],w=v[1],C=Object(a.useState)(""),k=Object(i.a)(C,2),A=k[0],R=k[1],L=Object(a.useState)(!1),E=Object(i.a)(L,2),V=E[0],F=E[1],D=Object(a.useState)(null),P=Object(i.a)(D,2),W=P[0],H=P[1];Object(a.useEffect)((function(){window.location.hash.includes("updateartist")?p(!0):p(!1)}),[]),Object(a.useEffect)((function(){x&&Object(I.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.getBand(s);case 3:t=e.sent,j(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[x]),Object(a.useEffect)((function(){var e=Object(U.a)(y);t&&!V&&(d.bandLinks.forEach((function(n,a){e.push(Object(O.jsx)(_,{linkId:a,links:t.bandLinks,remove:J},a))})),w(e))}),[]),Object(a.useEffect)((function(){if(null!==W){var e=y.filter((function(e){return e.key!==W})),t=d;return t.bandLinks.splice(W,1),j(t),y.length>0?w(e):null}}),[W]);var T=function(e){j(Object(N.a)(Object(N.a)({},d),{},Object(g.a)({},e.target.name,e.target.value)))},J=function(e){H(e)},M=function(){var e=Object(I.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.updateBandData(d._id,d);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),q=function(){return F(!0)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("form",{children:[n?null:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:t.bandName}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{type:"text",className:"form-control",id:"bandLocation",name:"location",value:d.location,onChange:T})})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("h3",{children:Object(O.jsx)("u",{children:"Bio:"})}),Object(O.jsx)("div",{className:"d-flex bandbio",children:Object(O.jsx)("textarea",{className:"form-control",id:"artistBio",rows:"3",value:t?d.bandBio:void 0,onChange:T,name:"bandBio"})})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("p",{children:Object(O.jsx)("u",{children:"Contact Email:"})}),Object(O.jsx)("input",{type:"email",className:"form-control",id:"artistContact",placeholder:"Add Contact Email",name:"contact",value:t?d.contact:void 0,onChange:T})]}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{htmlFor:"artistLinks",children:"Add A Link:"}),y.map((function(e){return e}))]})}),Object(O.jsx)("span",{children:Object(O.jsxs)("p",{children:[Object(O.jsx)("i",{className:"fa fa-plus","aria-hidden":"true",onClick:function(){w([].concat(Object(U.a)(y),[Object(O.jsx)(_,{linkId:y.length,links:x?[]:d.bandLinks,remove:J},y.length)]))}}),"Add a link"]})}),Object(O.jsx)("button",{type:"submit",value:"Submit",className:"artistUpdateButton",onClick:function(e){e.preventDefault(),d&&(d.bandLinks=[]),y.forEach((function(e,t){var n,a=document.getElementById("siteUrl".concat(t)).value,c=document.getElementById("linkSelection".concat(t)).value,s=d;""!==a&&"DEFAULT"!==c&&(s.bandLinks.push({siteName:c,siteUrl:(n=a,n=n.toLowerCase().trim(),/^(http:\/\/|https:\/\/)[a-z0-9]+([-.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/gim.test(n)?n.replace(/^(http:\/\/|https:\/\/)/,""):n)}),j(Object(N.a)(Object(N.a)({},d),{},{newArtist:s})))})),M(),localStorage.setItem("id","".concat(s)),R("".concat(d.bandName,"'s profile was updated")),q()},children:"Save"})]}),Object(O.jsx)(S,{show:V,handleClose:function(){F(!1),x?r.push("/bandpage/".concat(s)):c()},error:A,title:!0})]})},P=n(30),W=function(e){var t=Object(a.useState)("block"),n=Object(i.a)(t,2),c=n[0],s=n[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(P.b,{}),Object(O.jsx)(P.a,{sources:["local","camera","facebook","instagram"],sourceKeys:{facebookAppId:"2dds35jdw21",instagramClientId:"d7aadf962m"},resourceType:"image",cloudName:"natemking",uploadPreset:"rydr_app",buttonText:e.title,style:{color:"white",border:"none",width:"120px",backgroundColor:"#343A40",borderRadius:"4px",height:"25px",margin:"10px 0",display:c},cropping:!1,onSuccess:function(t){e.onSuccess(t),s("none")},onFailure:function(e){return console.error(e)}})]})},H=function(e){var t=e.artist,n=e.isLoading,a=e.id,c=e.edit,s=e.handleEdit,r=localStorage.getItem("id"),i=window.location.href,o=i.substring(i.lastIndexOf("/")+1),l=function(){if(t.bandLinks.length>0)return Object(O.jsx)(F,{artist:t,isLoading:n,edit:c})};return n?Object(O.jsx)("h1",{children:"Loading...."}):Object(O.jsxs)("div",{className:"d-flex flex-row flex-wrap align-items-center",children:[Object(O.jsxs)("div",{className:"d-flex flex-column",children:[function(){if(t.bandImg)return Object(O.jsx)("img",{alt:"bandphoto",className:"img-fluid bandphoto",src:t.bandImg})}(),c?Object(O.jsx)(W,{title:"Update pic",onSuccess:function(e){h.updateBandData(t._id,{bandImg:e.info.url}),window.location.reload()}}):null]}),Object(O.jsx)("div",{className:"d-flex flex-column p-2 flex-wrap",children:c?Object(O.jsx)(D,{artist:t,id:a,renderBandLinks:l(),handleEdit:s}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("h1",{children:[t.bandName,r!==o?null:Object(O.jsx)("span",{children:Object(O.jsx)("i",{className:"fa fa-pencil","aria-hidden":"true",onClick:s})})]}),Object(O.jsx)("h2",{children:t.location}),Object(O.jsx)("h3",{children:Object(O.jsx)("u",{children:"Bio:"})}),Object(O.jsx)("div",{className:"d-flex bandbio",children:Object(O.jsx)("p",{children:t.bandBio})}),Object(O.jsxs)("p",{children:[Object(O.jsx)("u",{children:"Contact Info:"}),Object(O.jsx)("br",{}),Object(O.jsx)("a",{href:"mailto:"+t.contact,children:t.contact})]}),l()]})})]})},T=function(e){var t=e.match,n=Object(a.useState)(""),c=Object(i.a)(n,2),s=c[0],r=c[1],o=Object(a.useState)([]),l=Object(i.a)(o,2),u=l[0],d=l[1],j=Object(a.useState)(!0),b=Object(i.a)(j,2),m=b[0],x=b[1],p=Object(a.useState)(!1),f=Object(i.a)(p,2),v=f[0],g=f[1];Object(a.useEffect)((function(){Object(I.a)(B.a.mark((function e(){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.getBand(t.params.id);case 3:return n=e.sent,e.next=6,h.getReviewByBand(t.params.id);case 6:a=e.sent,r(n.data),d(a.data),x(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()}),[t.params.id,v]);return Object(O.jsxs)("div",{className:"d-flex flex-column mt-2 p-2 align-items-center",children:[Object(O.jsx)(H,{artist:s,isLoading:m,id:t.params.id,edit:v,handleEdit:function(){g(!v)}}),v?null:Object(O.jsxs)("div",{className:"d-flex flex-column flex-wrap",children:[Object(O.jsx)("h1",{children:Object(O.jsx)("u",{children:"Artist Reviews"})}),Object(O.jsx)(V,{reviews:u,isLoading:m,id:t.params.id})]}),Object(O.jsx)("hr",{})]})},J=function(e){var t=e.venue,n=Object(a.useContext)(x),c=n.id,s=n.isAuth,r=Object(a.useState)(!1),o=Object(i.a)(r,2),u=o[0],d=o[1],j="/createReview/".concat(c),b=Object(a.useState)({venueName:t.name,venueAddress:[t.location.address||"",t.location.city+", "+t.location.state,"United States"]}),m=Object(i.a)(b,2),p=m[0],f=m[1],v=function(){var e=Object(I.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==t.location.address){e.next=8;break}return f({venueName:t.name,venueAddress:["",t.location.city+", "+t.location.state,"United States"]}),console.log(p),e.next=6,h.createVenueByName(t.venueName,p);case 6:e.next=11;break;case 8:return f({venueName:t.name,venueAddress:[t.location.address,t.location.city+", "+t.location.state,"United States"]}),e.next=11,h.createVenueByName(t.venueName,p);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){(function(){var e=Object(I.a)(B.a.mark((function e(){var n,a,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.getVenues();case 3:n=e.sent,a=n.data,c=a.map((function(e){return e.venueName})),c.map((function(e){return e})).includes(t.name)&&d(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t.name]),u?null:Object(O.jsxs)("div",{className:"my-2 mb-2 p-2 d-flex flex-column venueDiv flex-wrap searchedVenues",children:[Object(O.jsxs)("div",{className:"d-flex flex-column mx-2 apitext",children:[Object(O.jsx)("h3",{children:Object(O.jsx)("u",{children:t.name})}),Object(O.jsxs)("div",{className:"d-flex flex-row align-items-center",children:[Object(O.jsx)(L.a,{initialRating:0,emptySymbol:"fa fa-star-o fa-2x smallstars",readonly:!0,fullSymbol:"fa fa-star fa-2x smallstars"}),Object(O.jsx)("h5",{className:"m-2",children:"No Reviews"})]}),s?Object(O.jsx)(l.b,{to:j,children:Object(O.jsx)("button",{onClick:v,children:"Add Review"})}):null,Object(O.jsx)("p",{className:"m-0",children:t.location.address}),Object(O.jsx)("p",{className:"m-0",children:t.location.city+", "+t.location.state})]}),Object(O.jsx)("table",{className:"table table-responsive table-striped table-bordered bandreviews apiVenueReviews",children:Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"text-center",children:"Date"}),Object(O.jsx)("th",{className:"text-center",children:"Venue Name"}),Object(O.jsx)("th",{className:"text-center",children:"Rating"}),Object(O.jsx)("th",{className:"text-center",children:"Review"})]})})})]})},M=function(e){var t=e.venuesAPI;return e.isLoading?"":Object(O.jsx)("div",{className:"d-flex flex-column flex-wrap",children:t.map((function(e){return Object(O.jsx)(J,{venue:e},e.id)}))})},q=function(e){var t=e.review,n=Object(a.useState)([]),c=Object(i.a)(n,2),s=c[0],r=c[1],o=Object(a.useState)(),u=Object(i.a)(o,2),d=u[0],j=u[1],b=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"2-digit"});return Object(a.useEffect)((function(){(function(){var e=Object(I.a)(B.a.mark((function e(){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getBand(t.author);case 2:n=e.sent,a=n.data,console.log(a),j(a._id),r(a.bandName);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t.author]),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:b.format(Date.parse(t.createdAt))}),Object(O.jsx)("td",{children:Object(O.jsx)(l.b,{to:"/bandpage/".concat(d),children:s})}),Object(O.jsx)("td",{children:Object(O.jsx)(L.a,{initialRating:t.rating,emptySymbol:"fa fa-star-o fa-2x smallstars",readonly:!0,fullSymbol:"fa fa-star fa-2x smallstars"})}),Object(O.jsx)("td",{children:t.reviewText})]})})},K=function(e){var t=e.reviews;return e.isLoading?Object(O.jsx)("h1",{children:"Loading...."}):Object(O.jsx)("div",{className:"d-flex flex-wrap",children:Object(O.jsxs)("table",{className:"table-bordered bandreviews",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"text-center",children:"Date"}),Object(O.jsx)("th",{className:"text-center",children:"Band"}),Object(O.jsx)("th",{className:"text-center",children:"Rating"}),Object(O.jsx)("th",{className:"text-center",children:"Review"})]})}),Object(O.jsx)("tbody",{children:t.map((function(e){return Object(O.jsx)(q,{review:e},e._id)}))})]})})},z=function(e){var t=e.dbVenues,n=Object(a.useContext)(x).isAuth,c=Object(a.useContext)(x).id,s="/createReview/".concat(c),r=Object(a.useState)([]),o=Object(i.a)(r,2),u=o[0],d=o[1],j=Object(a.useState)(""),b=Object(i.a)(j,2),m=b[0],p=b[1];return Object(a.useEffect)((function(){(function(){var e=Object(I.a)(B.a.mark((function e(){var n,a,c,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.getReviewByVenue(t._id);case 3:for(n=e.sent,a=n.data,c=[],d(a),s=0;0<a.length;s++)c.push(a[s].rating),p(c.reduce((function(e,t){return e+t}),0)/c.length);e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t._id]),void 0===t.venueAddress?null:Object(O.jsxs)("div",{className:"flex-column d-flex flex-wrap mt-5 mb-4 p-3 align-items-start venueDiv searchedVenues",children:[Object(O.jsxs)("div",{className:"flex-wrap p-2",children:[Object(O.jsx)("h2",{className:"m-0",children:Object(O.jsx)("u",{children:t.venueName})}),Object(O.jsxs)("div",{className:"flex-row align-items-center",children:[Object(O.jsx)(L.a,{initialRating:m,emptySymbol:"fa fa-star-o fa-2x smallstars",readonly:!0,fullSymbol:"fa fa-star fa-2x smallstars"}),Object(O.jsxs)("h5",{children:[u.length," Reviews"]})]}),n?Object(O.jsx)(l.b,{to:s,children:Object(O.jsx)("button",{children:"Add Review"})}):null,Object(O.jsx)("h3",{className:"m-0",children:Object(O.jsx)("u",{children:"Address:"})}),Object(O.jsxs)("div",{className:"flex-column",children:[Object(O.jsx)("p",{className:"m-0",children:t.venueAddress[0]}),Object(O.jsx)("p",{className:"m-0",children:t.venueAddress[1]}),Object(O.jsx)("p",{className:"m-0",children:t.venueAddress[2]})]})]}),Object(O.jsx)(K,{reviews:u})]})},Y=function(){var e=Object(a.useContext)(x),t=e.isAuth,n=e.id,c=e.setId,s=Object(a.useState)([[]]),r=Object(i.a)(s,2),o=r[0],u=r[1],d=Object(a.useState)(!0),j=Object(i.a)(d,2),b=j[0],p=j[1],f=Object(a.useState)({venueName:"",city:"",radius:""}),v=Object(i.a)(f,2),y=v[0],w=v[1],S=Object(a.useState)([]),C=Object(i.a)(S,2),k=C[0],A=C[1];c(localStorage.getItem("id"));var R=function(){var e=Object(I.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=1609.344*y.radius,"https://api.foursquare.com/v2/venues/search?client_id=GSIEWB3V0L4OOFEWHBX4R0K1MOB0CJOJWGLSHHEP0DPKHNP1&client_secret=IABLARJ3OWCNSLW1VR00W4IB33FK3H1MLP32XJF5JWW3LFL4&v=20180323&categoryId=4bf58dd8d48988d1e5931735",e.next=5,m()("".concat("https://api.foursquare.com/v2/venues/search?client_id=GSIEWB3V0L4OOFEWHBX4R0K1MOB0CJOJWGLSHHEP0DPKHNP1&client_secret=IABLARJ3OWCNSLW1VR00W4IB33FK3H1MLP32XJF5JWW3LFL4&v=20180323&categoryId=4bf58dd8d48988d1e5931735","&limit=10&near=").concat(y.city,"&radius=").concat(t));case 5:n=e.sent,A(n.data.response.venues),p(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(I.a)(B.a.mark((function e(){var t,n,a,c,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getVenues();case 2:for(t=e.sent,n=t.data,a=[],c=[],s=0;s<n.length;s++)(!0===n[s].venueName.replace(/\s/g,"").toLowerCase().includes(y.venueName.replace(/\s/g,"").toLowerCase())||n[s].venueName.replace(/\s/g,"").toLowerCase().includes(y.venueName.replace(/\s/g,"").toLowerCase()))&&(!0===n[s].venueAddress[1].replace(/\s/g,"").toLowerCase().includes(y.city.replace(/\s/g,"").toLowerCase())?a.push(n[s]):c.push(n[s]));u(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function E(e){var t=e.target.value;w(Object(N.a)(Object(N.a)({},y),{},Object(g.a)({},e.target.name,t)))}return Object(O.jsx)("div",{className:"flex-column mt-2 p-2",children:Object(O.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column",children:[Object(O.jsx)("h1",{children:Object(O.jsx)("u",{children:"Search for a Venue"})}),Object(O.jsxs)("form",{children:[Object(O.jsx)("input",{type:"text",placeholder:"Search..",name:"venueName",value:y.venueName,className:"mb-2 mx-2 venueSearch",onChange:E}),Object(O.jsx)("input",{type:"text",placeholder:"Specifiy City..",name:"city",value:y.city,className:"mb-2 mx-2 venueSearch",onChange:E}),Object(O.jsx)("input",{type:"number",placeholder:"How Many Miles..",name:"radius",value:y.radius,className:"mb-2 mx-2 venueSearch ",onChange:E}),Object(O.jsx)("button",{onClick:function(e){e.preventDefault(),R(),L()},className:"venueSearch venueSearchBtn",children:"Search Venues"}),t?Object(O.jsx)(l.b,{to:"/createVenue/".concat(n),children:Object(O.jsx)("button",{className:"venueSearchBtn",children:"Create Venue"})}):null]}),Object(O.jsxs)("div",{className:"align-items-center",children:[o.map((function(e){return Object(O.jsx)(z,{dbVenues:e})})),Object(O.jsx)(M,{venuesAPI:k,isLoading:b})]})]})})},$=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,1)[0],n=Object(a.useState)(""),c=Object(i.a)(n,2),s=c[0],r=c[1],l=Object(a.useState)({venueName:s,venueAddress:t}),u=Object(i.a)(l,2),d=u[0],j=u[1],b=Object(a.useState)(""),m=Object(i.a)(b,2),x=m[0],p=m[1],f=Object(a.useState)(!1),v=Object(i.a)(f,2),y=v[0],w=v[1],C=Object(o.g)(),k=function(){var e=Object(I.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,A(),e.next=5,h.createVenueByName(d.venueName,d);case 5:p(d.venueName+" was created"),w(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=t;t.push(document.getElementById("0").value,document.getElementById("1").value,document.getElementById("2").value),j(Object(N.a)(Object(N.a)({},d),{},{venueAddress:e}))};return Object(O.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center mt-5",children:Object(O.jsxs)("div",{className:"formcontent p-2",children:[Object(O.jsx)("h1",{className:"text-center",children:"Create Venue Review"}),Object(O.jsxs)("form",{children:[Object(O.jsxs)("div",{className:"form-group d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"venueName",children:"Venue Name:"}),Object(O.jsx)("input",{type:"text",id:"venueName",name:"venueName",onChange:function(e){var t=e.target.value;r(t)}&&function(e){var t=e.target.name,n=e.target.value;j(Object(N.a)(Object(N.a)({},d),{},Object(g.a)({},t,n)))}})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"venueAddress",children:"Venue Address:"}),Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("input",{type:"text",id:"0",name:"0",placeholder:"Street Address 1"}),Object(O.jsx)("input",{type:"text",id:"1",name:"1",placeholder:"Street Address 2"}),Object(O.jsx)("input",{type:"text",id:"2",name:"2",placeholder:"City, State"})]})]}),Object(O.jsx)("button",{type:"submit",value:"Submit",className:"artistCreateButton",onClick:k,children:"Submit"})]}),Object(O.jsx)(S,{show:y,handleClose:function(){w(!1),C.push("/venuepage")},error:x,title:!0})]})})},X=function(e){var t=e.venue;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("option",{value:t._id,children:t.venueName})})},G=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),r=Object(i.a)(s,2),l=r[0],u=r[1],d=Object(a.useContext)(x),j=d.id;(0,d.setId)(localStorage.getItem("id"));var b=Object(a.useState)([]),m=Object(i.a)(b,2),p=m[0],f=m[1],v=Object(a.useState)({venue:"",rating:"",reviewText:""}),y=Object(i.a)(v,2),w=y[0],C=y[1],k=Object(o.g)();Object(a.useEffect)((function(){(function(){var e=Object(I.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getVenues();case 2:t=e.sent,void 0===(n=t.data)?(f([{venueName:""},{venueName:""}]),console.log("cannot reach")):f(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var A=function(e){var t,n=e.target.name,a=e.target.value;C(Object(N.a)(Object(N.a)({},w),{},(t={},Object(g.a)(t,n,a),Object(g.a)(t,"rating",parseInt(a)),t)))},R=function(){var e=Object(I.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h.createReview(j,w);case 4:c("Review created!"),u(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center mt-5",children:Object(O.jsxs)("div",{className:"formcontent p-2",children:[Object(O.jsx)("h1",{className:"text-center",children:"Create Venue Review"}),Object(O.jsxs)("form",{children:[Object(O.jsxs)("div",{className:"form-group d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"venueName",children:"Venue Name:"}),Object(O.jsxs)("select",{className:"form-select",id:"venue",name:"venue",onChange:A,children:[Object(O.jsx)("option",{children:"Select Venue"}),p.map((function(e){return Object(O.jsx)(X,{venue:e},e._id)}))]})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"venueReview",children:"Review:"}),Object(O.jsx)("textarea",{className:"form-control",id:"reviewText",name:"reviewText",maxlength:250,onChange:A,rows:"3"})]}),Object(O.jsxs)("div",{className:"form-group d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"venueRating",children:"Rate Venue (1-5):"}),Object(O.jsxs)("select",{id:"rating",name:"rating",onChange:A,children:[Object(O.jsx)("option",{value:1,children:"1"}),Object(O.jsx)("option",{value:2,children:"2"}),Object(O.jsx)("option",{value:3,children:"3"}),Object(O.jsx)("option",{value:4,children:"4"}),Object(O.jsx)("option",{value:5,children:"5"})]})]}),Object(O.jsx)("button",{type:"submit",value:"Submit",onClick:R,className:"artistCreateButton",children:"Submit"})]}),Object(O.jsx)(S,{show:l,handleClose:function(){u(!1),k.push("/venuepage/".concat(j))},error:n,title:!0})]})})},Z=function(e){var t=e.match,n=Object(a.useState)(),c=Object(i.a)(n,2),s=c[0],r=c[1],o=Object(a.useState)("none"),l=Object(i.a)(o,2),u=l[0],d=l[1];Object(a.useEffect)((function(){(function(){var e=Object(I.a)(B.a.mark((function e(){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getBand(t.params.id);case 2:n=e.sent,a=n.data,r(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t.params.id]);return Object(O.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center mt-5",children:Object(O.jsxs)("div",{className:"formcontent p-2",children:[Object(O.jsx)("h1",{className:"text-center",children:"Create Your Artist Profile"}),Object(O.jsx)(W,{onSuccess:function(e){r(Object(N.a)(Object(N.a)({},s),{},{bandImg:e.info.url})),h.updateBandData(s._id,{bandImg:e.info.url}),d("block")},title:"Add a pic"}),Object(O.jsx)("h4",{style:{color:"white",display:u},children:"Image uploaded!"}),Object(O.jsx)(D,{create:!0,id:t.params.id})]})})},Q=(n(40),n(76),n(25)),ee=function(e){var t=e.component,n=Object(Q.a)(e,["component"]),c=Object(a.useContext)(x).isAuth;return Object(O.jsx)(o.b,Object(N.a)(Object(N.a)({},n),{},{render:function(e){return c?Object(O.jsx)(t,Object(N.a)({},e)):Object(O.jsx)(o.a,{to:{pathname:"/",state:{from:e.location}}})}}))},te=function(e){var t=e.component,n=Object(Q.a)(e,["component"]),c=Object(a.useContext)(x),s=c.isAuth,r=c.id,i="/bandpage/".concat(r);return Object(O.jsx)(o.b,Object(N.a)(Object(N.a)({},n),{},{render:function(e){return s?Object(O.jsx)(o.a,{to:{pathname:i,state:{from:e.location}}}):Object(O.jsx)(t,Object(N.a)({},e))}}))};var ne=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),r=Object(i.a)(s,2),u=r[0],d=r[1],j=Object(a.useState)(),b=Object(i.a)(j,2),m=b[0],h=b[1];return Object(O.jsx)(p,{value:{currentUser:n,isAuth:u,id:m,setId:h,setCurrentUser:c,setIsAuth:d},children:Object(O.jsxs)(l.a,{children:[Object(O.jsx)(f,{}),Object(O.jsxs)(o.d,{children:[Object(O.jsx)(o.b,{path:"/venuepage/:id",component:Y}),Object(O.jsx)(o.b,{exact:!0,path:"/venuepage/",component:Y}),Object(O.jsx)(te,{path:"/",exact:!0,component:v}),Object(O.jsx)(te,{path:"/login",component:C}),Object(O.jsx)(te,{path:"/createartist",component:R}),Object(O.jsx)(ee,{path:"/bandpage/:id",component:T}),Object(O.jsx)(ee,{path:"/createReview/:id",component:G}),Object(O.jsx)(ee,{path:"/createVenue/:id",component:$}),Object(O.jsx)(ee,{path:"/updateartist/:id",component:Z})]})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(ne,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[77,1,2]]]);
//# sourceMappingURL=main.f53e6cdf.chunk.js.map